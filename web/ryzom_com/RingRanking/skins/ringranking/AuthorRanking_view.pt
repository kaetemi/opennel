<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US"
	i18n:domain="RingRanking"
	metal:use-macro="here/main_template/macros/master">

<metal:block fill-slot="css_slot">
   <style type="text/css" media="screen"
		tal:content="string:@import url(${portal_url}/RingRanking.css);">
   </style>
</metal:block>

<metal:block fill-slot="javascript_head_slot">
	<script src="" type="text/javascript"
		tal:attributes="src string:${portal_url}/js/ajax.js"></script>

	<script type="text/javascript">
		// <![CDATA[
		
function changeServer(){
	// fonction qui met a jour le tableau des scores
	var res="";
	var formulaire = document.getElementById("selectServer");
	if( formulaire.leanon.checked == true) res += "leanon,";
	if( formulaire.arispotle.checked == true) res += "arispotle,";
	if( formulaire.aniro.checked == true) res += "aniro,";
	if( formulaire.cho.checked == true) res += "cho,";
	res = document.URL+"/authorUpdate_view?langs="+res+"";

	sendRequestAndChangeContent("score", res);
}

		// ]]>
	</script>
</metal:block>

<body>

<div metal:fill-slot="main">

<h1 tal:condition="not:here/getAM" i18n:translate="RingRanking_title_author">Le classement des meilleurs auteurs de sc&eacute;narios</h1>
<h1 tal:condition="here/getAM" i18n:translate="RingRanking_title_adventuremaster">Le classement des meilleurs MJ</h1>

<form action="" id="selectServer">
	<label for="leanon">Leanon</label> <input type="checkbox" id="leanon" />
	<label for="arispotle">Arispotle</label> <input type="checkbox" id="arispotle" /> 
	<label for="aniro">Aniro</label> <input type="checkbox" id="aniro" />
	<label for="cho">Cho</label> <input type="checkbox" id="cho" />
	<input type="button" value="valider" name="valider" onclick="changeServer();" />
</form>

<table tal:define="ranks here/getRanking" id="score" border="0"
	cellpadding="0" cellspacing="0">
	<tbody>
		<tr>
			<th i18n:translate="RingRanking_rank">Rank</th>
			<th i18n:translate="RingRanking_name">Name</th>
			<th i18n:translate="RingRanking_guild">Guild</th>
			<th i18n:translate="RingRanking_score">Score</th>
		</tr>
		<div tal:omit-tag="" tal:repeat="rank ranks" >
			<tr class="" tal:define="number repeat/rank/number" tal:attributes="class python:'parite'+str(number%2)">
				<td tal:content="python:rank['rank']">rank</td>
				<td tal:content="python:rank['name']">Nom</td>
				<td tal:content="python:rank['guild']">Guilde</td>
				<td tal:content="python:rank['score']">Score</td>				
			</tr>
		</div>
	</tbody>
</table>

</div>

</body>
</html>
