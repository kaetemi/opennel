/* file.cpp
 *
 * Copyright (C) 2000 Nevrax. All rights reserved.
 *
 * The redistribution, use and modification in source or binary forms of
 * this software is subject to the conditions set forth in the copyright
 * document ("Copyright") included with this distribution.
 */

/*
 * $Id: file.cpp,v 1.1 2000/09/12 08:16:20 berenguier Exp $
 *
 * Standard File Input/Output.
 */


#include "nel/misc/file.h"
using namespace std;


namespace NLMISC
{


// ======================================================================================================
CIFile::CIFile() : IStream(true, true)
{
	_F=NULL;
}
// ======================================================================================================
CIFile::~CIFile()
{
	close();
}
// ======================================================================================================
bool	CIFile::open(std::string path)
{
	close();
	_F=fopen(path.c_str(), "rb");
	return _F!=NULL;
}
// ======================================================================================================
void	CIFile::close()
{
	if(_F)
	{
		fclose(_F);
		_F=NULL;
	}
}
// ======================================================================================================
void	CIFile::flush()
{
	if(_F)
	{
		fflush(_F);
	}
}


// ======================================================================================================
// ======================================================================================================
// ======================================================================================================


// ======================================================================================================
COFile::COFile() : IStream(false, true)
{
	_F=NULL;
}
// ======================================================================================================
COFile::~COFile()
{
	close();
}
// ======================================================================================================
bool	COFile::open(std::string path)
{
	close();
	_F=fopen(path.c_str(), "wb");
	return _F!=NULL;
}
// ======================================================================================================
void	COFile::close()
{
	if(_F)
	{
		fclose(_F);
		_F=NULL;
	}
}
// ======================================================================================================
void	COFile::flush()
{
	if(_F)
	{
		fflush(_F);
	}
}



}